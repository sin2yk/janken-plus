# janken-plus
```markdown
# ①課題名
satellite521｜5-2-1点制じゃんけんAIバトル

## ②課題内容（どんな作品か）
- 通常のじゃんけんに「5-2-1点制（グー=1 / チョキ=2 / パー=5）」という非対称な得点ルールを導入した対AIじゃんけんゲーム。
- 勝利条件の異なる2モード（双六：30点先取 / 綱引き：点差10）があり、同じスコア情報を別々のバー表示で可視化して勝敗を競う。
- AIの手の出し方は「一様分布」「ナッシュ均衡」「手動カスタム」の3種類から選択でき、戦略ミックスと乱択の仕組みを体験できる。

## ③アプリのデプロイURL
https://sin2yk.github.io/janken-plus/

## ④アプリのログイン用IDまたはPassword（ある場合）
- ID: なし
- PW: なし

## ⑤工夫した点・こだわった点
- 5-2-1点制（勝った手の種類で加点：R=1 / S=2 / P=5）を実装し、グー連打では勝ち切れない非対称なゲーム性を持たせた。
- ゲームモードを2種類用意  
  - 双六：30点に到達した側の勝ち  
  - 綱引き：スコア差が±10になったら勝ち  
  → 内部スコアは共通の state に1セットだけ持たせ、モードごとにバーUIだけ切り替える構造にした。
- AIの“戦略ミックス”を選択制にし、3パターンを実装  
  - 手動（ユーザーがスライダーで分布を指定）  
  - 一様分布（各手1/3ずつ）  
  - ナッシュ均衡（2/17, 10/17, 5/17）  
  → 5-2-1点制に対する対称ナッシュ均衡を事前に計算して、そのままAI戦略として組み込んだ。
- getAIMix で確率ベクトル `[pr, ps, pp]` を作り、`Math.random()` で生成した 0〜1 の乱数を「区間にマッピングする」ことで、どの戦略でも乱択部分は常に同じロジックで処理できるようにした。
- ログは「最新 → 過去」の順で最大60件まで保持し、勝敗・スコア遷移・出した手の組み合わせをテキストで追えるようにした。
- 判定ロジックは「あいこ判定 → 勝敗判定 → 勝者側への加点 → バー描画 → モード別の勝利判定」という流れに整理し、コードの読みやすさとデバッグのしやすさを意識した。

## ⑥難しかった点・次回トライしたいこと（又は機能）
- 【難しかった点】
  - 勝ち手のみ加点するルールが通常のじゃんけんと異なるため、「勝者側の出した手」に応じてスコアを更新するロジックを1から設計し直す必要があった。
  - 双六と綱引きでバーUIのロジックが全く違うため、同じスコアから2種類のバー表示を生成しつつ、モード切替時に破綻しないよう描画処理を整理するのに時間がかかった。
  - ナッシュ均衡（2/17, 10/17, 5/17）の扱いを、スライダーによる手動設定と共存させる UI 設計（正規化・無効化・表示更新）がやや複雑だった。
  - CSS まで十分に手が回らず、今回はロジックとUI構造の実装を優先せざるを得なかった。

- 【次にトライしたいこと】
  - AIが対戦履歴からプレイヤーの手の傾向を推定し、戦略ミックスを学習して変化させてくる「学習型じゃんけんAI」の実装。
  - ミニマックス・逆張り戦略・Markovモデルなど、より高度なAI戦略アルゴリズムを追加し、戦略ごとの違いを比較できるようにする。
  - 設定画面を切り出し、5-2-1以外の点配分や勝利条件（目標点数・点差）をユーザーが自由にカスタマイズできるモードの実装。
  - WebSocket などを用いて、複数人が同じ綱引きに参加できるオンライン対戦モードを実装し、集団戦のダイナミクスを試してみたい。

## ⑦フリー項目（感想、シェアしたいこと等なんでも）
- [感想]  
  - 5-2-1点制を採用することで、「グーさえ出しておけばいい」という直感が通用しなくなり、通常のじゃんけんとは違う思考が必要になる点が特に面白かった。  
  - AI戦略を切り替えられることで、「自分がどんな手を出しがちか」を逆に分析できる“自己分析ツール”のような側面も感じた。  
  - 綱引きモードは視覚的に有利不利が分かりやすく、点差が一気に動いたときの爽快感が大きい。今後はバーの揺れ・発光・SEなどの演出も加えて、ゲームとしての手触りをさらに高めたい。
